import{ax as he,ay as Ie,az as Ve,d as B,aA as Xe,aa as Fe,aB as $e,af as ke,aC as Re,m as F,B as N,n as Be,q as H,v as K,aD as _e,b as se,y as T,ar as Ae,A as Pe,aE as Ke,M as R,aq as be,aF as q,W as D,ak as U,ai as me,aj as ze,h as y,l as G,s as L,ao as Ue,H as Oe,N as J,aG as je,e as we,aH as Ee,ah as Me,aI as j,Y as qe,an as de,al as fe,K as ye,V as ge,aJ as Ge,aK as Je,aL as xe,Z as Qe,G as pe,D as De,C as et,aM as tt,R as nt,S as at,E as it,P as Te,ae as lt}from"./index-d69430ba.js";import{u as He}from"./use-id-6c976a03.js";import{a as ot,r as st}from"./use-route-d5cecb2c.js";function rt(e,s,c){let i=0;const l=e.scrollLeft,t=c===0?1:Math.round(c*1e3/16);function d(){e.scrollLeft+=(s-l)/t,++i<t&&he(d)}d()}function ct(e,s,c,i){let l=Ie(e);const t=l<s,d=c===0?1:Math.round(c*1e3/16),f=(s-l)/d;function b(){l+=f,(t&&l>s||!t&&l<s)&&(l=s),Ve(e,l),t&&l<s||!t&&l>s?he(b):i&&he(i)}b()}function ut(){const e=B([]),s=[];return Xe(()=>{e.value=[]}),[e,i=>(s[i]||(s[i]=l=>{e.value[i]=l}),s[i])]}function Ne(e,s){if(!Fe||!window.IntersectionObserver)return;const c=new IntersectionObserver(t=>{s(t[0].intersectionRatio>0)},{root:document.body}),i=()=>{e.value&&c.observe(e.value)},l=()=>{e.value&&c.unobserve(e.value)};$e(l),ke(l),Re(i)}const[dt,ft]=F("sticky"),vt={zIndex:N,position:Be("top"),container:Object,offsetTop:H(0),offsetBottom:H(0)};var ht=K({name:dt,props:vt,emits:["scroll","change"],setup(e,{emit:s,slots:c}){const i=B(),l=_e(i),t=se({fixed:!1,width:0,height:0,transform:0}),d=B(!1),f=T(()=>Ae(e.position==="top"?e.offsetTop:e.offsetBottom)),b=T(()=>{if(d.value)return;const{fixed:a,height:I,width:g}=t;if(a)return{width:`${g}px`,height:`${I}px`}}),m=T(()=>{if(!t.fixed||d.value)return;const a=Pe(Ke(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${f.value}px`});return t.transform&&(a.transform=`translate3d(0, ${t.transform}px, 0)`),a}),v=a=>s("scroll",{scrollTop:a,isFixed:t.fixed}),w=()=>{if(!i.value||q(i))return;const{container:a,position:I}=e,g=U(i),O=Ie(window);if(t.width=g.width,t.height=g.height,I==="top")if(a){const h=U(a),k=h.bottom-f.value-t.height;t.fixed=f.value>g.top&&h.bottom>0,t.transform=k<0?k:0}else t.fixed=f.value>g.top;else{const{clientHeight:h}=document.documentElement;if(a){const k=U(a),E=h-k.top-f.value-t.height;t.fixed=h-f.value<g.bottom&&h>k.top,t.transform=E<0?-E:0}else t.fixed=h-f.value<g.bottom}v(O)};return R(()=>t.fixed,a=>s("change",a)),be("scroll",w,{target:l,passive:!0}),Ne(i,w),R([me,ze],()=>{!i.value||q(i)||!t.fixed||(d.value=!0,D(()=>{const a=U(i);t.width=a.width,t.height=a.height,d.value=!1}))}),()=>{var a;return y("div",{ref:i,style:b.value},[y("div",{class:ft({fixed:t.fixed&&!d.value}),style:m.value},[(a=c.default)==null?void 0:a.call(c)])])}}});const gt=G(ht),[Le,le]=F("swipe"),bt={loop:L,width:N,height:N,vertical:Boolean,autoplay:H(0),duration:H(500),touchable:L,lazyRender:Boolean,initialSwipe:H(0),indicatorColor:String,showIndicators:L,stopPropagation:L},We=Symbol(Le);var mt=K({name:Le,props:bt,emits:["change","dragStart","dragEnd"],setup(e,{emit:s,slots:c}){const i=B(),l=B(),t=se({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let d=!1;const f=Ue(),{children:b,linkChildren:m}=Oe(We),v=T(()=>b.length),w=T(()=>t[e.vertical?"height":"width"]),a=T(()=>e.vertical?f.deltaY.value:f.deltaX.value),I=T(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-w.value*v.value:0),g=T(()=>w.value?Math.ceil(Math.abs(I.value)/w.value):v.value),O=T(()=>v.value*w.value),h=T(()=>(t.active+v.value)%v.value),k=T(()=>{const r=e.vertical?"vertical":"horizontal";return f.direction.value===r}),E=T(()=>{const r={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${t.offset}px)`};if(w.value){const x=e.vertical?"height":"width",n=e.vertical?"width":"height";r[x]=`${O.value}px`,r[n]=e[n]?`${e[n]}px`:""}return r}),W=r=>{const{active:x}=t;return r?e.loop?de(x+r,-1,v.value):de(x+r,0,g.value):x},Y=(r,x=0)=>{let n=r*w.value;e.loop||(n=Math.min(n,-I.value));let o=x-n;return e.loop||(o=de(o,I.value,0)),o},$=({pace:r=0,offset:x=0,emitChange:n})=>{if(v.value<=1)return;const{active:o}=t,u=W(r),S=Y(u,x);if(e.loop){if(b[0]&&S!==I.value){const C=S<I.value;b[0].setOffset(C?O.value:0)}if(b[v.value-1]&&S!==0){const C=S>0;b[v.value-1].setOffset(C?-O.value:0)}}t.active=u,t.offset=S,n&&u!==o&&s("change",h.value)},Z=()=>{t.swiping=!0,t.active<=-1?$({pace:v.value}):t.active>=v.value&&$({pace:-v.value})},V=()=>{Z(),f.reset(),j(()=>{t.swiping=!1,$({pace:-1,emitChange:!0})})},_=()=>{Z(),f.reset(),j(()=>{t.swiping=!1,$({pace:1,emitChange:!0})})};let Q;const P=()=>clearTimeout(Q),z=()=>{P(),+e.autoplay>0&&v.value>1&&(Q=setTimeout(()=>{_(),z()},+e.autoplay))},M=(r=+e.initialSwipe)=>{if(!i.value)return;const x=()=>{var n,o;if(!q(i)){const u={width:i.value.offsetWidth,height:i.value.offsetHeight};t.rect=u,t.width=+((n=e.width)!=null?n:u.width),t.height=+((o=e.height)!=null?o:u.height)}v.value&&(r=Math.min(v.value-1,r),r===-1&&(r=v.value-1)),t.active=r,t.swiping=!0,t.offset=Y(r),b.forEach(u=>{u.setOffset(0)}),z()};q(i)?D().then(x):x()},p=()=>M(t.active);let ee;const re=r=>{!e.touchable||r.touches.length>1||(f.start(r),d=!1,ee=Date.now(),P(),Z())},ce=r=>{e.touchable&&t.swiping&&(f.move(r),k.value&&(!e.loop&&(t.active===0&&a.value>0||t.active===v.value-1&&a.value<0)||(qe(r,e.stopPropagation),$({offset:a.value}),d||(s("dragStart",{index:h.value}),d=!0))))},te=()=>{if(!e.touchable||!t.swiping)return;const r=Date.now()-ee,x=a.value/r;if((Math.abs(x)>.25||Math.abs(a.value)>w.value/2)&&k.value){const o=e.vertical?f.offsetY.value:f.offsetX.value;let u=0;e.loop?u=o>0?a.value>0?-1:1:0:u=-Math[a.value>0?"ceil":"floor"](a.value/w.value),$({pace:u,emitChange:!0})}else a.value&&$({pace:0});d=!1,t.swiping=!1,s("dragEnd",{index:h.value}),z()},ue=(r,x={})=>{Z(),f.reset(),j(()=>{let n;e.loop&&r===v.value?n=t.active===0?0:r:n=r%v.value,x.immediate?j(()=>{t.swiping=!1}):t.swiping=!1,$({pace:n-t.active,emitChange:!0})})},ne=(r,x)=>{const n=x===h.value,o=n?{backgroundColor:e.indicatorColor}:void 0;return y("i",{style:o,class:le("indicator",{active:n})},null)},ae=()=>{if(c.indicator)return c.indicator({active:h.value,total:v.value});if(e.showIndicators&&v.value>1)return y("div",{class:le("indicators",{vertical:e.vertical})},[Array(v.value).fill("").map(ne)])};return J({prev:V,next:_,state:t,resize:p,swipeTo:ue}),m({size:w,props:e,count:v,activeIndicator:h}),R(()=>e.initialSwipe,r=>M(+r)),R(v,()=>M(t.active)),R(()=>e.autoplay,z),R([me,ze,()=>e.width,()=>e.height],p),R(je(),r=>{r==="visible"?z():P()}),we(M),Ee(()=>M(t.active)),Me(()=>M(t.active)),$e(P),ke(P),be("touchmove",ce,{target:l}),()=>{var r;return y("div",{ref:i,class:le()},[y("div",{ref:l,style:E.value,class:le("track",{vertical:e.vertical}),onTouchstartPassive:re,onTouchend:te,onTouchcancel:te},[(r=c.default)==null?void 0:r.call(c)]),ae()])}}});const wt=G(mt),[yt,Se]=F("tabs");var xt=K({name:yt,props:{count:fe(Number),inited:Boolean,animated:Boolean,duration:fe(N),swipeable:Boolean,lazyRender:Boolean,currentIndex:fe(Number)},emits:["change"],setup(e,{emit:s,slots:c}){const i=B(),l=f=>s("change",f),t=()=>{var f;const b=(f=c.default)==null?void 0:f.call(c);return e.animated||e.swipeable?y(wt,{ref:i,loop:!1,class:Se("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:l},{default:()=>[b]}):b},d=f=>{const b=i.value;b&&b.state.active!==f&&b.swipeTo(f,{immediate:!e.inited})};return R(()=>e.currentIndex,d),we(()=>{d(e.currentIndex)}),J({swipeRef:i}),()=>y("div",{class:Se("content",{animated:e.animated||e.swipeable})},[t()])}});const[Ye,oe]=F("tabs"),Tt={type:Be("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:H(0),duration:H(.3),animated:Boolean,ellipsis:L,swipeable:Boolean,scrollspy:Boolean,offsetTop:H(0),background:String,lazyRender:L,lineWidth:N,lineHeight:N,beforeChange:Function,swipeThreshold:H(5),titleActiveColor:String,titleInactiveColor:String},Ze=Symbol(Ye);var St=K({name:Ye,props:Tt,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:s,slots:c}){let i,l,t;const d=B(),f=B(),b=B(),m=B(),v=He(),w=_e(d),[a,I]=ut(),{children:g,linkChildren:O}=Oe(Ze),h=se({inited:!1,position:"",lineStyle:{},currentIndex:-1}),k=T(()=>g.length>+e.swipeThreshold||!e.ellipsis||e.shrink),E=T(()=>({borderColor:e.color,background:e.background})),W=(n,o)=>{var u;return(u=n.name)!=null?u:o},Y=T(()=>{const n=g[h.currentIndex];if(n)return W(n,h.currentIndex)}),$=T(()=>Ae(e.offsetTop)),Z=T(()=>e.sticky?$.value+i:0),V=n=>{const o=f.value,u=a.value;if(!k.value||!o||!u||!u[h.currentIndex])return;const S=u[h.currentIndex].$el,C=S.offsetLeft-(o.offsetWidth-S.offsetWidth)/2;rt(o,C,n?0:+e.duration)},_=()=>{const n=h.inited;D(()=>{const o=a.value;if(!o||!o[h.currentIndex]||e.type!=="line"||q(d.value))return;const u=o[h.currentIndex].$el,{lineWidth:S,lineHeight:C}=e,A=u.offsetLeft+u.offsetWidth/2,X={width:ye(S),backgroundColor:e.color,transform:`translateX(${A}px) translateX(-50%)`};if(n&&(X.transitionDuration=`${e.duration}s`),ge(C)){const ie=ye(C);X.height=ie,X.borderRadius=ie}h.lineStyle=X})},Q=n=>{const o=n<h.currentIndex?-1:1;for(;n>=0&&n<g.length;){if(!g[n].disabled)return n;n+=o}},P=(n,o)=>{const u=Q(n);if(!ge(u))return;const S=g[u],C=W(S,u),A=h.currentIndex!==null;h.currentIndex!==u&&(h.currentIndex=u,o||V(),_()),C!==e.active&&(s("update:active",C),A&&s("change",C,S.title)),t&&!e.scrollspy&&Je(Math.ceil(xe(d.value)-$.value))},z=(n,o)=>{const u=g.find((C,A)=>W(C,A)===n),S=u?g.indexOf(u):0;P(S,o)},M=(n=!1)=>{if(e.scrollspy){const o=g[h.currentIndex].$el;if(o&&w.value){const u=xe(o,w.value)-Z.value;l=!0,ct(w.value,u,n?0:+e.duration,()=>{l=!1})}}},p=(n,o,u)=>{const{title:S,disabled:C}=g[o],A=W(g[o],o);C||(Qe(e.beforeChange,{args:[A],done:()=>{P(o),M()}}),ot(n)),s("clickTab",{name:A,title:S,event:u,disabled:C})},ee=n=>{t=n.isFixed,s("scroll",n)},re=n=>{D(()=>{z(n),M(!0)})},ce=()=>{for(let n=0;n<g.length;n++){const{top:o}=U(g[n].$el);if(o>Z.value)return n===0?0:n-1}return g.length-1},te=()=>{if(e.scrollspy&&!l){const n=ce();P(n)}},ue=()=>{if(e.type==="line"&&g.length)return y("div",{class:oe("line"),style:h.lineStyle},null)},ne=()=>{var n,o,u;const{type:S,border:C,sticky:A}=e,X=[y("div",{ref:A?void 0:b,class:[oe("wrap"),{[Ge]:S==="line"&&C}]},[y("div",{ref:f,role:"tablist",class:oe("nav",[S,{shrink:e.shrink,complete:k.value}]),style:E.value,"aria-orientation":"horizontal"},[(n=c["nav-left"])==null?void 0:n.call(c),g.map(ie=>ie.renderTitle(p)),ue(),(o=c["nav-right"])==null?void 0:o.call(c)])]),(u=c["nav-bottom"])==null?void 0:u.call(c)];return A?y("div",{ref:b},[X]):X},ae=()=>{_(),D(()=>{var n,o;V(!0),(o=(n=m.value)==null?void 0:n.swipeRef.value)==null||o.resize()})};R(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],_),R(me,ae),R(()=>e.active,n=>{n!==Y.value&&z(n)}),R(()=>g.length,()=>{h.inited&&(z(e.active),_(),D(()=>{V(!0)}))});const r=()=>{z(e.active,!0),D(()=>{h.inited=!0,b.value&&(i=U(b.value).height),V(!0)})},x=(n,o)=>s("rendered",n,o);return J({resize:ae,scrollTo:re}),Ee(_),Me(_),Re(r),Ne(d,_),be("scroll",te,{target:w,passive:!0}),O({id:v,props:e,setLine:_,scrollable:k,onRendered:x,currentName:Y,setTitleRefs:I,scrollIntoView:V}),()=>y("div",{ref:d,class:oe([e.type])},[e.sticky?y(gt,{container:d.value,offsetTop:$.value,onScroll:ee},{default:()=>[ne()]}):ne(),y(xt,{ref:m,count:g.length,inited:h.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:h.currentIndex,onChange:P},{default:()=>{var n;return[(n=c.default)==null?void 0:n.call(c)]}})])}});const Ct=Symbol(),[It,Ce]=F("tab"),$t=K({name:It,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:N,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:L},setup(e,{slots:s}){const c=T(()=>{const l={},{type:t,color:d,disabled:f,isActive:b,activeColor:m,inactiveColor:v}=e;d&&t==="card"&&(l.borderColor=d,f||(b?l.backgroundColor=d:l.color=d));const a=b?m:v;return a&&(l.color=a),l}),i=()=>{const l=y("span",{class:Ce("text",{ellipsis:!e.scrollable})},[s.title?s.title():e.title]);return e.dot||ge(e.badge)&&e.badge!==""?y(pe,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[l]}):l};return()=>y("div",{id:e.id,role:"tab",class:[Ce([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:c.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[i()])}}),[kt,Rt]=F("swipe-item");var Bt=K({name:kt,setup(e,{slots:s}){let c;const i=se({offset:0,inited:!1,mounted:!1}),{parent:l,index:t}=De(We);if(!l)return;const d=T(()=>{const m={},{vertical:v}=l.props;return l.size.value&&(m[v?"height":"width"]=`${l.size.value}px`),i.offset&&(m.transform=`translate${v?"Y":"X"}(${i.offset}px)`),m}),f=T(()=>{const{loop:m,lazyRender:v}=l.props;if(!v||c)return!0;if(!i.mounted)return!1;const w=l.activeIndicator.value,a=l.count.value-1,I=w===0&&m?a:w-1,g=w===a&&m?0:w+1;return c=t.value===w||t.value===I||t.value===g,c}),b=m=>{i.offset=m};return we(()=>{D(()=>{i.mounted=!0})}),J({setOffset:b}),()=>{var m;return y("div",{class:Rt(),style:d.value},[f.value?(m=s.default)==null?void 0:m.call(s):null])}}});const _t=G(Bt),[At,ve]=F("tab"),Pt=Pe({},st,{dot:Boolean,name:N,badge:N,title:String,disabled:Boolean,titleClass:et,titleStyle:[String,Object],showZeroBadge:L});var zt=K({name:At,props:Pt,setup(e,{slots:s}){const c=He(),i=B(!1),l=lt(),{parent:t,index:d}=De(Ze);if(!t)return;const f=()=>{var a;return(a=e.name)!=null?a:d.value},b=()=>{i.value=!0,t.props.lazyRender&&D(()=>{t.onRendered(f(),e.title)})},m=T(()=>{const a=f()===t.currentName.value;return a&&!i.value&&b(),a}),v=a=>y($t,it({key:c,id:`${t.id}-${d.value}`,ref:t.setTitleRefs(d.value),style:e.titleStyle,class:e.titleClass,isActive:m.value,controls:c,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:I=>a(l.proxy,d.value,I)},Te(t.props,["type","color","shrink"]),Te(e,["dot","badge","title","disabled","showZeroBadge"])),{title:s.title}),w=B(!m.value);return R(m,a=>{a?w.value=!1:j(()=>{w.value=!0})}),R(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),tt(Ct,m),J({id:c,renderTitle:v}),()=>{var a;const I=`${t.id}-${d.value}`,{animated:g,swipeable:O,scrollspy:h,lazyRender:k}=t.props;if(!s.default&&!g)return;const E=h||m.value;if(g||O)return y(_t,{id:c,role:"tabpanel",class:ve("panel-wrapper",{inactive:w.value}),tabindex:m.value?0:-1,"aria-hidden":!m.value,"aria-labelledby":I},{default:()=>{var $;return[y("div",{class:ve("panel")},[($=s.default)==null?void 0:$.call(s)])]}});const Y=i.value||h||!k?(a=s.default)==null?void 0:a.call(s):null;return nt(y("div",{id:c,role:"tabpanel",class:ve("panel"),tabindex:E?0:-1,"aria-labelledby":I},[Y]),[[at,E]])}}});const Dt=G(zt),Ht=G(St);export{Ht as T,Dt as a};
