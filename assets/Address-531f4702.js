import{m as b,v as _,H as $,M as V,O as C,h as n,B as v,C as y,l as p,D,P,E as S,al as A,A as B,I,J as g,s as w,_ as E,u as L,x as R,b as q,e as H,f as O,o as z,c as G}from"./index-d69430ba.js";import{T as M}from"./index-798e273f.js";import{C as N}from"./index-b0130fdc.js";import{c as j,s as F}from"./index-fa137dd3.js";import{_ as h}from"./Header-53ed58ce.js";import{B as J}from"./index-7885404b.js";import"./use-route-d5cecb2c.js";const[k,K]=b("radio-group"),Y={disabled:Boolean,iconSize:v,direction:String,modelValue:y,checkedColor:String},T=Symbol(k);var Q=_({name:k,props:Y,emits:["change","update:modelValue"],setup(e,{emit:d,slots:s}){const{linkChildren:o}=$(T),r=l=>d("update:modelValue",l);return V(()=>e.modelValue,l=>d("change",l)),o({props:e,updateValue:r}),C(()=>e.modelValue),()=>{var l;return n("div",{class:K([e.direction]),role:"radiogroup"},[(l=s.default)==null?void 0:l.call(s)])}}});const U=p(Q),[W,X]=b("radio");var Z=_({name:W,props:j,emits:["update:modelValue"],setup(e,{emit:d,slots:s}){const{parent:o}=D(T),r=()=>(o?o.props.modelValue:e.modelValue)===e.name,l=()=>{o?o.updateValue(e.name):d("update:modelValue",e.name)};return()=>n(F,S({bem:X,role:"radio",parent:o,checked:r(),onToggle:l},e),P(s,["default","icon"]))}});const ee=p(Z),[te,m]=b("address-item");var ae=_({name:te,props:{address:A(Object),disabled:Boolean,switchable:Boolean,defaultTagText:String},emits:["edit","click","select"],setup(e,{slots:d,emit:s}){const o=()=>{e.switchable&&s("select"),s("click")},r=()=>n(I,{name:"edit",class:m("edit"),onClick:a=>{a.stopPropagation(),s("edit"),s("click")}},null),l=()=>{if(d.tag)return d.tag(e.address);if(e.address.isDefault&&e.defaultTagText)return n(M,{type:"primary",round:!0,class:m("tag")},{default:()=>[e.defaultTagText]})},t=()=>{const{address:a,disabled:i,switchable:c}=e,u=[n("div",{class:m("name")},[`${a.name} ${a.tel}`,l()]),n("div",{class:m("address")},[a.address])];return c&&!i?n(ee,{name:a.id,iconSize:18},{default:()=>[u]}):u};return()=>{var a;const{disabled:i}=e;return n("div",{class:m({disabled:i}),onClick:o},[n(N,{border:!1,titleClass:m("title")},{title:t,"right-icon":r}),(a=d.bottom)==null?void 0:a.call(d,B({},e.address,{disabled:i}))])}}});const[de,f,se]=b("address-list"),ne={list:g(),modelValue:v,switchable:w,disabledText:String,disabledList:g(),addButtonText:String,defaultTagText:String};var oe=_({name:de,props:ne,emits:["add","edit","select","clickItem","editDisabled","selectDisabled","update:modelValue"],setup(e,{slots:d,emit:s}){const o=(t,a,i)=>{const c=()=>s(i?"editDisabled":"edit",t,a),u=()=>s("clickItem",t,a),x=()=>{s(i?"selectDisabled":"select",t,a),i||s("update:modelValue",t.id)};return n(ae,{key:t.id,address:t,disabled:i,switchable:e.switchable,defaultTagText:e.defaultTagText,onEdit:c,onClick:u,onSelect:x},{bottom:d["item-bottom"],tag:d.tag})},r=(t,a)=>{if(t)return t.map((i,c)=>o(i,c,a))},l=()=>n("div",{class:[f("bottom"),"van-safe-area-bottom"]},[n(J,{round:!0,block:!0,type:"primary",text:e.addButtonText||se("add"),class:f("add"),onClick:()=>s("add")},null)]);return()=>{var t,a;const i=r(e.list),c=r(e.disabledList,!0),u=e.disabledText&&n("div",{class:f("disabled-text")},[e.disabledText]);return n("div",{class:f()},[(t=d.top)==null?void 0:t.call(d),n(U,{modelValue:e.modelValue},{default:()=>[i]}),u,c,(a=d.default)==null?void 0:a.call(d),l()])}}});const le=p(oe);const ie={components:{Header:h},setup(){const e=L(),d=R(),s=()=>{e.push({path:"/addressedit",query:{type:"add"}})},o=t=>{e.push({path:"/addressedit",query:{id:t.id,type:"edit"}})},r=q({list:[]}),l=()=>{r.list=d.state.userAddress.map(t=>({id:t.id,name:t.name,tel:t.tel,address:`${t.province}${t.city}${t.county}${t.addressDetail}`,isDefault:t.isDefault}))};return H(()=>{l()}),{onAdd:s,onEdit:o,...O(r)}}};function re(e,d,s,o,r,l){const t=h,a=le;return z(),G("div",null,[n(t,{title:"地址管理"}),n(a,{list:e.list,"disabled-list":e.disabledList,"default-tag-text":"默认",onAdd:o.onAdd,onEdit:o.onEdit},null,8,["list","disabled-list","onAdd","onEdit"])])}const ge=E(ie,[["render",re],["__scopeId","data-v-2d2bfb9f"]]);export{ge as default};
