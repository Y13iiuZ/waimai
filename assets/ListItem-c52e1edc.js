import{m as F,v as O,H as ie,M as C,N as J,O as R,h as v,B as _,J as se,A as oe,s as b,D as ue,y as S,P as ce,E as D,l as Q,q as k,d as H,K as W,Q as de,R as G,S as L,T as q,U as X,V as Y,W as me,X as re,Y as M,Z as he,$ as fe,a0 as ge,_ as be,o as T,c as ve,a as x,j as A,a1 as _e,t as j,I as Ve}from"./index-d69430ba.js";import{c as ke,s as xe}from"./index-fa137dd3.js";const[Z,Se]=F("checkbox-group"),Ce={max:_,disabled:Boolean,iconSize:_,direction:String,modelValue:se(),checkedColor:String},p=Symbol(Z);var He=O({name:Z,props:Ce,emits:["change","update:modelValue"],setup(e,{emit:i,slots:a}){const{children:c,linkChildren:d}=ie(p),f=t=>i("update:modelValue",t),l=(t={})=>{typeof t=="boolean"&&(t={checked:t});const{checked:o,skipDisabled:g}=t,r=c.filter(u=>u.props.bindGroup?u.props.disabled&&g?u.checked.value:o??!u.checked.value:!1).map(u=>u.name);f(r)};return C(()=>e.modelValue,t=>i("change",t)),J({toggleAll:l}),R(()=>e.modelValue),d({props:e,updateValue:f}),()=>{var t;return v("div",{class:Se([e.direction])},[(t=a.default)==null?void 0:t.call(a)])}}});const[Pe,ye]=F("checkbox"),Ie=oe({},ke,{bindGroup:b});var Te=O({name:Pe,props:Ie,emits:["change","update:modelValue"],setup(e,{emit:i,slots:a}){const{parent:c}=ue(p),d=t=>{const{name:o}=e,{max:g,modelValue:V}=c.props,r=V.slice();if(t)!(g&&r.length>=+g)&&!r.includes(o)&&(r.push(o),e.bindGroup&&c.updateValue(r));else{const u=r.indexOf(o);u!==-1&&(r.splice(u,1),e.bindGroup&&c.updateValue(r))}},f=S(()=>c&&e.bindGroup?c.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),l=(t=!f.value)=>{c&&e.bindGroup?d(t):i("update:modelValue",t)};return C(()=>e.modelValue,t=>i("change",t)),J({toggle:l,props:e,checked:f}),R(()=>e.modelValue),()=>v(xe,D({bem:ye,role:"checkbox",parent:c,checked:f.value,onToggle:l},e),ce(a,["default","icon"]))}});const Be=Q(Te),[we,B]=F("stepper"),Ee=200,w=(e,i)=>String(e)===String(i),Ne={min:k(1),max:k(1/0),name:k(""),step:k(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:b,showMinus:b,showInput:b,longPress:b,autoFixed:b,allowEmpty:Boolean,modelValue:_,inputWidth:_,buttonSize:_,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:k(1),decimalLength:_};var Ge=O({name:we,props:Ne,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:i}){const a=(n,s=!0)=>{const{min:m,max:y,allowEmpty:h,decimalLength:I}=e;return h&&n===""||(n=X(String(n),!e.integer),n=n===""?0:+n,n=Number.isNaN(n)?+m:n,n=s?Math.max(Math.min(+y,n),+m):n,Y(I)&&(n=n.toFixed(+I))),n},c=()=>{var n;const s=(n=e.modelValue)!=null?n:e.defaultValue,m=a(s);return w(m,e.modelValue)||i("update:modelValue",m),m};let d;const f=H(),l=H(c()),t=S(()=>e.disabled||e.disableMinus||+l.value<=+e.min),o=S(()=>e.disabled||e.disablePlus||+l.value>=+e.max),g=S(()=>({width:W(e.inputWidth),height:W(e.buttonSize)})),V=S(()=>de(e.buttonSize)),r=()=>{const n=a(l.value);w(n,l.value)||(l.value=n)},u=n=>{e.beforeChange?he(e.beforeChange,{args:[n],done(){l.value=n}}):l.value=n},E=()=>{if(d==="plus"&&o.value||d==="minus"&&t.value){i("overlimit",d);return}const n=d==="minus"?-e.step:+e.step,s=a(fe(+l.value,n));u(s),i(d)},ee=n=>{const s=n.target,{value:m}=s,{decimalLength:y}=e;let h=X(String(m),!e.integer);if(Y(y)&&h.includes(".")){const $=h.split(".");h=`${$[0]}.${$[1].slice(0,+y)}`}e.beforeChange?s.value=String(l.value):w(m,h)||(s.value=h);const I=h===String(+h);u(I?+h:h)},ne=n=>{var s;e.disableInput?(s=f.value)==null||s.blur():i("focus",n)},te=n=>{const s=n.target,m=a(s.value,e.autoFixed);s.value=String(m),l.value=m,me(()=>{i("blur",n),re()})};let N,P;const z=()=>{P=setTimeout(()=>{E(),z()},Ee)},ae=()=>{e.longPress&&(N=!1,clearTimeout(P),P=setTimeout(()=>{N=!0,E(),z()},ge))},K=n=>{e.longPress&&(clearTimeout(P),N&&M(n))},le=n=>{e.disableInput&&M(n)},U=n=>({onClick:s=>{M(s),d=n,E()},onTouchstartPassive:()=>{d=n,ae()},onTouchend:K,onTouchcancel:K});return C(()=>[e.max,e.min,e.integer,e.decimalLength],r),C(()=>e.modelValue,n=>{w(n,l.value)||(l.value=a(n))}),C(l,n=>{i("update:modelValue",n),i("change",n,{name:e.name})}),R(()=>e.modelValue),()=>v("div",{role:"group",class:B([e.theme])},[G(v("button",D({type:"button",style:V.value,class:[B("minus",{disabled:t.value}),{[q]:!t.value}],"aria-disabled":t.value||void 0},U("minus")),null),[[L,e.showMinus]]),G(v("input",{ref:f,type:e.integer?"tel":"text",role:"spinbutton",class:B("input"),value:l.value,style:g.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,"aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":l.value,onBlur:te,onInput:ee,onFocus:ne,onMousedown:le},null),[[L,e.showInput]]),G(v("button",D({type:"button",style:V.value,class:[B("plus",{disabled:o.value}),{[q]:!o.value}],"aria-disabled":o.value||void 0},U("plus")),null),[[L,e.showPlus]])])}});const Le=Q(Ge);const Me={props:["item","handleAdd","handlecChange","showCheckBox"]},Ae={class:"content-item"},De={class:"left"},Fe=["src"],Oe={class:"text"},Re={class:"title"},ze={class:"price"};function Ke(e,i,a,c,d,f){const l=Be,t=Ve,o=Le;return T(),ve("div",Ae,[x("div",De,[a.showCheckBox?(T(),A(l,{key:0,name:a.item.id,"checked-color":"#ffc400"},null,8,["name"])):_e("",!0),x("img",{src:a.item.pic},null,8,Fe),x("div",Oe,[x("div",Re,j(a.item.title),1),a.item.add?(T(),A(t,{key:0,name:"add-o",onClick:i[0]||(i[0]=g=>a.handleAdd(a.item.id))})):(T(),A(o,{key:1,modelValue:a.item.num,"onUpdate:modelValue":i[1]||(i[1]=g=>a.item.num=g),onChange:a.handlecChange,name:a.item.id},null,8,["modelValue","onChange","name"]))])]),x("div",ze,"ï¿¥"+j(a.item.price),1)])}const We=be(Me,[["render",Ke],["__scopeId","data-v-872daeed"]]);export{Be as C,We as _,He as s};
